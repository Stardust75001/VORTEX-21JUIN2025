{% comment %}
---------------------------------------------------------
Copyright © 2019/2024 Theme Shopiweb Premium. Tous droits réservés.
La copie, la modification, la distribution ou l'utilisation
non autorisée de ce code ou de toute partie de celui-ci est formellement interdite.
Les contrevenants seront poursuivis dans toute la mesure permise par la loi.
---------------------------------------------------------
{% endcomment %}

{% liquid
    assign row_xs = section.settings.breakpoint_xs | prepend: 'row-cols-'
    assign row_sm = section.settings.breakpoint_sm | prepend: 'row-cols-sm-'
    assign row_md = section.settings.breakpoint_md | prepend: 'row-cols-md-'
    assign row_lg = section.settings.breakpoint_lg | prepend: 'row-cols-lg-'
    assign row_xl = section.settings.breakpoint_xl | prepend: 'row-cols-xl-'
    assign row_xxl = section.settings.breakpoint_xxl | prepend: 'row-cols-xxl-'

    assign limit = section.settings.limit

    if shop.permanent_domain contains 'shopiweb'
        assign limit = 16
    endif

    for filter in collection.filters
        if filter.type == "price_range"
           if filter.min_value.value != nil or filter.max_value.value != nil
                assign active_filter_values = 1 | plus: active_filter_values
            endif
        else
            assign active_filter_values = filter.active_values.size | plus: active_filter_values
        endif
    endfor
%}

<div 
    id="collection-{{ collection.id }}" 
    class="collection pb-11 {{ section.settings.text_align }}">
    {% if section.settings.show_collection_img and collection.image != blank %}
  <header class="collection-header collection-header-img py-12 py-xl-14 mb-8 mb-lg-9 enter-view">

    <!-- Image mobile -->
    <img
      class="collection-header-img img-mobile d-lg-none"
      src="{{ collection.image.src | image_url: width: 960 }}"
      alt="{{ collection.image.alt | escape }}"
      loading="lazy"
      style="display: block; margin: 0 auto; max-width: 100%; height: auto; object-fit: contain; opacity: {{ section.settings.img_opacity }};"
    />

    <!-- Image desktop -->
    <img
      class="collection-header-img img-desktop d-none d-lg-block"
      src="{{ collection.image.src | image_url: width: 1920 }}"
      alt="{{ collection.image.alt | escape }}"
      loading="lazy"
      style="display: block; margin: 0 auto; max-width: 100%; height: auto; object-fit: contain; opacity: {{ section.settings.img_opacity }};"
    />
<img
  class="collection-header-img img-desktop d-none d-lg-block"
  src="{{ collection.image.src | image_url: width: 1920 }}"
  alt="{{ collection.image.alt | escape }}"
  loading="lazy"
  style="width: 100%; height: auto; object-fit: contain !important; opacity: {{ section.settings.img_opacity }};"
/>
            {% if section.settings.img_blur > 0 %}
                <div class="collection-header-img-blur" style="backdrop-filter: blur({{ section.settings.img_blur }}px);">
                </div>
            {% endif %}
            <div class="container">
                    <h1 class="collection-title mb-0 {{ section.settings.title_size }} animate__animated animate__faster opacity-0"
                        {% if settings.effect_apply_title_enable %}
                          data-animate-class="{{ settings.animation_title_name }}"
                          style="animation-delay: 200ms;"
                        {% endif %}>
{% if collection.metafields.global.ref_variant_id %}
  <div class="collection-ref-variant-id mb-2" style="font-weight: 500; font-size: 1rem;">
    {{ 'custom.ref_variant_label' | t }} : {{ collection.metafields.global.ref_variant_id.value }}
  </div>
{% endif %}

<h1 class="collection-title mb-0 {{ section.settings.title_size }} animate__animated animate__faster opacity-0"
    {% if settings.effect_apply_title_enable %}
      data-animate-class="{{ settings.animation_title_name }}"
      style="animation-delay: 200ms;"
    {% endif %}>                     {% if settings.custom_svg_h2 != blank %}
                          <div class="h2_svg animate__animated animate__faster opacity-0"
                                {% if settings.effect_apply_svg_enable %} 
                                  data-animate-class="{{ settings.animation_svg_name }}"
                                  style="animation-delay: 400ms;"
                                {% endif %}>
                            <span style="fill:{{ settings.color_svg_h2 }}; width:{{ settings.width_svg_h2 }}rem;"> {{ settings.custom_svg_h2 }}</span>
                          </div>
                        {% else %}
                          {% if settings.svg_h2 != 'none' %}
                            <div class="h2_svg mb-4 animate__animated animate__faster opacity-0"
                                  {% if settings.effect_apply_svg_enable %} 
                                    data-animate-class="{{ settings.animation_svg_name }}"
                                    style="animation-delay: 400ms;"
                                  {% endif %}>
                              <span style="fill:{{ settings.color_svg_h2 }}; width:{{ settings.width_svg_h2 }}rem;"> {% render 'svg-subtitle', svg_h2: settings.svg_h2 %}</span>
                            </div>
                          {% endif %}
                        {% endif %}
                    </h1>
                {% if section.settings.show_collection_description and collection.description != blank %}
                    <div 
                        class="animate__animated animate__faster opacity-0"
                        {% if settings.effect_apply_description_enable %} 
                          data-animate-class="{{ settings.animation_description_name }}"
                          style="animation-delay: 600ms;"
                        {% endif %}>
                        <div class="description rte mt-3 mb-0 {{ section.settings.description_size }}">
                            {{ collection.description }}
                        </div>
                    </div>
                {% endif %}
            </div>
        </header>
    {% else %}
        <header class="collection-header pt-11 mb-8 mb-lg-9">
            <div class="container">
                <h1 class="collection-title mb-0 {{ section.settings.title_size }}">
                    {{ collection.title }}
                    {% if settings.custom_svg_h2 != blank %}
                      <div class="h2_svg">
                        <span style="fill:{{ settings.color_svg_h2 }}; width:{{ settings.width_svg_h2 }}rem;"> {{ settings.custom_svg_h2 }}</span>
                      </div>
                    {% else %}
                      {% if settings.svg_h2 != 'none' %}
                        <div class="h2_svg mb-4">
                          <span style="fill:{{ settings.color_svg_h2 }}; width:{{ settings.width_svg_h2 }}rem;"> {% render 'svg-subtitle', svg_h2: settings.svg_h2 %}</span>
                        </div>
                      {% endif %}
                    {% endif %}
                </h1>
                {% if section.settings.show_collection_description and collection.description != blank %}
                    <div class="description rte mt-2 mb-0 {{ section.settings.description_size }}">
                        {{ collection.description }}
                    </div>
                {% endif %}
            </div>
        </header>
    {% endif %}

    {% if section.settings.show_breadcrumbs %}
        <div class="breadcrumbs-wrapper mt-n4 mb-6">
            <div class="{{ section.settings.container }}">
                {% render 'breadcrumbs' %}
            </div>
        </div>
    {% endif %}

    {% if section.settings.collections_menu != nil %}
        <nav class="collections_menu">
            <div class="{{ section.settings.container }}">
                <ul class="nav mt-n2 mb-6 {{ section.settings.collections_menu_align }}">
                    {% for link in linklists[section.settings.collections_menu].links %}
                        {% liquid 
                            if link.type == 'collection_link' 
                                assign image = link.object.image
                            elsif link.type == 'product_link'
                                assign image = link.object.featured_image
                            endif

                            case section.settings.collections_menu_img_orientation
                                when 'square'
                                    assign img_width  = 600
                                    assign img_height = 600
                                when 'landscape'
                                    assign img_width  = 600
                                    assign img_height = 480
                                when 'potrait'
                                    assign img_width  = 480
                                    assign img_height = 600
                            endcase
                        %}
                        <li class="nav-item">
                            <a 
                                href="{{ link.url }}" 
                                class="nav-link link-dark {% if link.active %}active{% endif %}"
                                aria-current="{% if link.active %}page{% endif %}">
                                <img
                                    src="{{ image | image_url: width: img_width, height: img_height, crop: 'center' }}"
                                    alt="{{ image.alt }}"
                                    class="img-fluid mb-2 rounded {{ section.settings.collections_menu_img_thumbnail }} {{ section.settings.collections_menu_border_color }} {{ section.settings.collections_menu_shadow_sp }}"
                                    style="border-width: {{ section.settings.collections_menu_border_width }}px;"
                                    width="{{ img_width }}"
                                    height="{{ img_height }}"
                                    loading="lazy">
                                {{ link.title }}
                            </a>
                        </li>
                    {% endfor %}
                </ul>
            </div>
        </nav>
    {% endif %}
  
    {% if section.settings.show_filters or section.settings.show_sort_by %}
        <div id="collection-controls" class="mb-6">
            <div class="{{ section.settings.container }}">
                <div id="collection-controls-inner" class="bg-light py-4 px-4 rounded">
                    {% if section.settings.show_filters %}
                        <div class="d-flex">
                            <button
                                class="btn-filters btn d-flex align-items-center {{ section.settings.filters_btn_color }}"
                                data-bs-toggle="offcanvas" 
                                data-bs-target="#offcanvas-filters" 
                                aria-controls="offcanvas-filters"
                                aria-label="{{ 'collection.btn_filter_products' | t }}"
                                type="button">
                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line>
                                    <line x1="12" y1="21" x2="12" y2="12"></line>
                                    <line x1="12" y1="8" x2="12" y2="3"></line>
                                    <line x1="20" y1="21" x2="20" y2="16"></line>
                                    <line x1="20" y1="12" x2="20" y2="3"></line>
                                    <line x1="1" y1="14" x2="7" y2="14"></line>
                                    <line x1="9" y1="8" x2="15" y2="8"></line>
                                    <line x1="17" y1="16" x2="23" y2="16"></line>
                                </svg>
                                <span class="ms-3">
                                    {{ 'collection.btn_filter_products' | t }}
                                </span>
                                {% if active_filter_values > 0 %}
                                    <b class="badge bg-secondary ms-3">
                                        {{ active_filter_values }}
                                    </b>
                                {% endif %}
                            </button>
                        </div>
                    {% endif %}
                    {% if section.settings.show_sort_by %}
                        <div id="sort-by-wrapper" class="input-group">
                            <label class="input-group-text" for="sort-by">
                                {{ 'collection.sort_by' | t }}
                            </label>
                            <select id="sort-by" name="sort_by" class="form-select form-select-md" onchange="onChangeCollectionSortBy(value)">
                                {% for option in collection.sort_options %}
                                    <option value="{{ option.value }}" {% if option.value == collection.sort_by %}selected{% endif %}>
                                        {{ option.name }}
                                    </option>
                                {% endfor %}
                            </select>
                        </div>
                        <span 
                            id="collection-sort-by-notice" 
                            class="visually-hidden" 
                            aria-live="polite" 
                            aria-atomic="true" 
                            data-text-sort-by="{{ 'general.accessibility.sorted_by' | t }}">
                            {{ 'general.accessibility.sorted_by' | t }}: {{ collection.sort_by }}
                        </span>
                    {% endif %}
                </div>
            </div>
        </div>
    {% endif %}

    <div class="{{ section.settings.container }}">
        {% paginate collection.products by limit %}
            {% if collection.products.size == 0 %}
                <p class="alert alert-warning">
                    {{ 'collection.empty_html' | t }}
                </p>
            {% else %}
                {% if section.settings.enable_infinite_pagination %}
                    <button 
                        id="btn-load-previous"
                        class="btn btn-outline-secondary btn-sm my-4" 
                        data-previous-url="{{ paginate.previous.url }}" 
                        onclick="onClickCollectionLoadPrevious(this, event)"
                        {% unless paginate.previous %}hidden{% endunless %}>
                        {{ 'collection.load_previous' | t }}
                    </button>
                {% endif %}
                <ul class="product-listing list-unstyled row mx-n3 mx-lg-n4 mb-0 {{ section.settings.text_align }} {{ row_xs }} {{ row_sm }} {{ row_md }} {{ row_lg }} {{ row_xl }} {{ row_xxl }}">
                    {% for product in collection.products %}
                        {% render 'product-item', product: product, current_page: paginate.current_page %}
                    {% endfor %}
                </ul>
                <div 
                    id="paging-collection" 
                    class="text-center mx-auto pt-8 pb-4">
                    <small class="d-block text-muted mb-3 fst-italic">
                        {% assign paginate_count = paginate.current_offset | plus: collection.products.size %}
                        {{ 'collection.paginate_count' | t: count: paginate_count, total: paginate.items }}
                    </small>
                    <div class="progress mb-0">
                        {% assign collection_progress = paginate.items | minus: paginate.items | minus: paginate_count | times: 100.0 | divided_by: paginate.items | round | remove: '-' %}
                        <div 
                            class="progress-bar bg-primary" 
                            role="progressbar" 
                            style="width: {{ collection_progress }}%;" 
                            aria-valuenow="{{ paginate_count }}" 
                            aria-valuemin="0" 
                            aria-valuemax="{{ paginate.items }}">
                        </div>
                    </div>
                    {% if section.settings.enable_infinite_pagination %}
                        {% if paginate.next %}
                            <button 
                                class="button-loading-more btn btn-outline-primary d-inline-flex align-items-center mt-5 mb-0" 
                                data-next-url="{{ paginate.next.url }}" 
                                onclick="onClickCollectionLoadMore(this, event)"
                                aria-label="{{ 'general.accessibility.load_more_products' | t }}">
                                <svg xmlns="http://www.w3.org/2000/svg" class="me-2" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M7 13l5 5 5-5M7 6l5 5 5-5"/>
                                </svg>
                                {{ 'collection.load_more' | t }}
                            </button>
                        {% endif %}
                        <div class="visually-hidden">
                            {% if paginate.previous %}
                                <a href="{{ paginate.previous.url }}">
                                    {{ 'general.accessibility.previous_page' | t }}
                                </a>
                            {% endif %}
                            {% if paginate.next %}
                                <a href="{{ paginate.next.url }}">
                                    {{ 'general.accessibility.next_page' | t }}
                                </a>
                            {% endif %}
                        </div>
                    {% else %}
                        {% render 'pagination' with paginate: paginate %}
                    {% endif %}
                </div>

            {% endif %}
        {% endpaginate %}
    </div> 
</div>

{% render 'offcanvas-filters' %}
{% render 'collection-card' %}

{% schema %}
{
    "name": "Collection (modèle)",
    "settings": [
        {
            "type": "header",
            "content": "General"
        },
        {
            "type": "select",
            "id": "container",
            "label": "Conteneur",
            "default": "container",
            "options": [
                { "value": "container", "label": "Conteneur" },
                { "value": "container-fluid", "label": "Pleine largeur" }
            ]
        },
        {
            "type": "select",
            "id": "text_align",
            "label": "Alignement du texte",
            "default": "text-center",
            "options": [
                { "value": "text-start", "label": "Gauche" },
                { "value": "text-center", "label": "Centre" }
            ]
        },
        {
            "type": "range",
            "id": "limit",
            "label": "Produits par page",
            "min": 10,
            "max": 50,
            "default": 48,
            "step": 1
        },
        {
            "type": "checkbox",
            "id": "show_breadcrumbs",
            "label": "Afficher le fil d'Ariane",
            "default": true
        },
        {
            "type": "checkbox",
            "id": "enable_infinite_pagination",
            "label": "Activer la pagination infinie",
            "default": true
        },
        {
            "type": "checkbox",
            "id": "show_filters",
            "label": "Afficher les filtres",
            "default": true
        },
        {
            "type": "select",
            "id": "filters_btn_color",
            "label": "Couleur du bouton",
            "default": "btn-outline-secondary",
            "options": [
                { "group": "Normal", "value": "btn-link", "label": "Lien" },
                { "group": "Normal", "value": "btn-light", "label": "Claire" },
                { "group": "Normal", "value": "btn-dark", "label": "Sombre" },
                { "group": "Normal", "value": "btn-primary", "label": "Primaire" },
                { "group": "Normal", "value": "btn-secondary", "label": "Secondaire" },
                { "group": "Normal", "value": "btn-tertiary", "label": "Tertiaire" },
                { "group": "Normal", "value": "btn-success", "label": "Succès" },
                { "group": "Normal", "value": "btn-danger", "label": "Danger" },
                { "group": "Normal", "value": "btn-warning", "label": "Avertissement" },
                { "group": "Normal", "value": "btn-info", "label": "Info" },
                { "group": "Contour", "value": "btn-outline-light", "label": "Contour Claire" },
                { "group": "Contour", "value": "btn-outline-dark", "label": "Contour Sombre" },
                { "group": "Contour", "value": "btn-outline-primary", "label": "Contour Primaire" },
                { "group": "Contour", "value": "btn-outline-secondary", "label": "Contour Secondaire" },
                { "group": "Contour", "value": "btn-outline-tertiary", "label": "Contour Tertiaire" },
                { "group": "Contour", "value": "btn-outline-success", "label": "Contour Succès" },
                { "group": "Contour", "value": "btn-outline-danger", "label": "Contour Danger" },
                { "group": "Contour", "value": "btn-outline-warning", "label": "Contour Avertissement" },
                { "group": "Contour", "value": "btn-outline-info", "label": "Contour Info" }
            ]
        },
        {
            "type": "checkbox",
            "id": "show_sort_by",
            "label": "Afficher 'Trier par'",
            "default": true
        },
        {
            "type": "header",
            "content": "En-tête"
        },
        {
            "type": "checkbox",
            "id": "show_collection_img",
            "label": "Afficher l'image",
            "default": true
        },
        {
            "type": "range",
            "id": "img_opacity",
            "label": "Opacité de l'image",
            "min": 0,
            "max": 1,
            "step": 0.1,
            "default": 0.7
        },
        {
            "type": "range",
            "id": "img_blur",
            "label": "Flou de l'image",
            "min": 0,
            "max": 10,
            "step": 1,
            "default": 0
        },
        {
            "type": "select",
            "id": "title_size",
            "label": "Taille du titre",
            "default": "h1",
            "options": [
                { "group": "Titre Supérieur", "value": "display-1", "label": "Extra Extra Grand" },
                { "group": "Titre Supérieur", "value": "display-2", "label": "Extra Grand" },
                { "group": "Titre Supérieur", "value": "display-3", "label": "Ultra Grand" },
                { "group": "Titre Supérieur", "value": "display-4", "label": "Super Grand" },
                { "group": "Titre Standard", "value": "h1", "label": "Très Grand" },
                { "group": "Titre Standard", "value": "h2", "label": "Grand" },
                { "group": "Titre Standard", "value": "h3", "label": "Moyen" },
                { "group": "Titre Standard", "value": "h4", "label": "Petit" },
                { "group": "Titre Standard", "value": "h5", "label": "Très Petit" },
                { "group": "Titre Standard", "value": "h6", "label": "Super Petit" }
            ]
        },
        {
            "type": "checkbox",
            "id": "show_collection_description",
            "label": "Afficher la description de la collection",
            "default": true
        },
        {
            "type": "select",
            "id": "description_size",
            "label": "Taille de description",
            "default": "fs-5",
            "options": [
                { "group": "Description Standard", "value": "fs-1", "label": "Extra Grand" },
                { "group": "Description Standard", "value": "fs-2", "label": "Super Grand" },
                { "group": "Description Standard", "value": "fs-3", "label": "Très Grand" },
                { "group": "Description Standard", "value": "fs-4", "label": "Grand" },
                { "group": "Description Standard", "value": "fs-5", "label": "Moyen" },
                { "group": "Description Standard", "value": "fs-6", "label": "Petit" } 
            ]
        },
        {
            "type": "header",
            "content": "Menu collections"
        },
        {
            "type": "link_list",
            "id": "collections_menu",
            "label": "Menu collections"
        },
        {
            "type": "select",
            "id": "collections_menu_align",
            "label": "Alignement",
            "default": "justify-content-center",
            "options": [
                { "value": "justify-content-start", "label": "Gauche" },
                { "value": "justify-content-center", "label": "Centre" },
                { "value": "justify-content-end", "label": "Droite" }
            ]
        },
        {
            "type": "select",
            "id": "collections_menu_img_orientation",
            "label": "Image orientation",
            "default": "landscape",
            "options": [
                { "value": "square", "label": "Carré" },
                { "value": "landscape", "label": "Paysage" },
                { "value": "potrait", "label": "Portrait" }
            ]
        },
        {
            "type": "select",
            "id": "collections_menu_img_thumbnail",
            "label": "Bordure de l'image",
            "default": "img-thumbnail",
            "options": [
                { "value": "", "label": "Aucune" },
                { "value": "img-thumbnail", "label": "Bordure" }
            ]
        },
        {
            "type": "select",
            "id": "collections_menu_border_color",
            "label": "Couleur de la bordure",
            "options": [
                { "value": "", "label": "Default" },
                { "value": "border-primary", "label": "Primaire" },
                { "value": "border-secondary", "label": "Secondaire" },
                { "value": "border-tertiary", "label": "Tertiaire" },
                { "value": "border-dark", "label": "Sombre" },
                { "value": "border-success", "label": "Succès" },
                { "value": "border-warning", "label": "Avertissement" },
                { "value": "border-danger", "label": "Danger" },
                { "value": "border-info", "label": "Info" }
            ],
            "default": ""
        },
        {
            "type": "select",
            "id": "collections_menu_shadow_sp",
            "label": "Ombre",
            "options": [
                { "value": "shadow-none", "label": "Aucune" },
                { "value": "shadow-1", "label": "Ombre légère" },
                { "value": "shadow-2", "label": "Ombre partiel" },
                { "value": "shadow-3", "label": "Ombre profonde" },
                { "value": "shadow-4", "label": "Ombre totale" }
            ],
            "default": "shadow-1"
        },
        {
            "type": "header",
            "content": "Produits"
        },
        {
            "type": "select",
            "id": "product_img_mode",
            "label": "Mode image",
            "options": [
                { "value": "simple", "label": "Simple image" },
                { "value": "hover", "label": "Changement au hover" },
                { "value": "gallery", "label": "Gallerie d'images" }
            ],
            "default": "gallery"
        },
        {
            "type": "select",
            "id": "product_img_orientation",
            "label": "Image orientation",
            "default": "square",
            "options": [
                { "value": "square", "label": "Carré" },
                { "value": "landscape", "label": "Paysage" },
                { "value": "potrait", "label": "Portrait" }
            ]
        },
        {
            "type": "select",
            "id": "product_img_thumbnail",
            "label": "Bordure de l'image",
            "default": "img-thumbnail",
            "options": [
                { "value": "", "label": "Aucune" },
                { "value": "img-thumbnail", "label": "Bordure" }
            ]
        },
        {
            "type": "select",
            "id": "product_border_color",
            "label": "Couleur de la bordure",
            "options": [
                { "value": "", "label": "Default" },
                { "value": "border-primary", "label": "Primaire" },
                { "value": "border-secondary", "label": "Secondaire" },
                { "value": "border-tertiary", "label": "Tertiaire" },
                { "value": "border-dark", "label": "Sombre" },
                { "value": "border-success", "label": "Succès" },
                { "value": "border-warning", "label": "Avertissement" },
                { "value": "border-danger", "label": "Danger" },
                { "value": "border-info", "label": "Info" }
            ],
            "default": ""
        },
        {
            "type": "select",
            "id": "product_shadow_sp",
            "label": "Ombre",
            "options": [
                { "value": "shadow-none", "label": "Aucune" },
                { "value": "shadow-1", "label": "Ombre légère" },
                { "value": "shadow-2", "label": "Ombre partiel" },
                { "value": "shadow-3", "label": "Ombre profonde" },
                { "value": "shadow-4", "label": "Ombre totale" }
            ],
            "default": "shadow-1"
        },
        {
            "type": "checkbox",
            "id": "product_show_sale_badge",
            "label": "Afficher le badge de vente",
            "default": true
        },
        {
            "type": "select",
            "id": "product_sale_badge_color",
            "label": "Couleur du badge de vente",
            "default": "bg-success text-white",
            "options": [
                { "group": "Principal", "value": "bg-primary text-white", "label": "Primaire" },
                { "group": "Principal", "value": "bg-secondary text-white", "label": "Secondaire" },
                { "group": "Principal", "value": "bg-tertiary text-white", "label": "Tertiaire" },
                { "group": "Intermédiaire", "value": "bg-white text-dark", "label": "Blanc" },
                { "group": "Intermédiaire", "value": "bg-light text-body", "label": "Claire" },
                { "group": "Intermédiaire", "value": "bg-dark text-white", "label": "Sombre" },
                { "group": "Par défaut", "value": "", "label": "Corps (body)" },
                { "group": "Alerte", "value": "bg-success text-white", "label": "Succès" },
                { "group": "Alerte", "value": "bg-warning text-dark", "label": "Avertissement" },
                { "group": "Alerte", "value": "bg-danger text-white", "label": "Danger" },
                { "group": "Alerte", "value": "bg-info text-white", "label": "Info" }
            ]
        },
        {
            "type": "select",
            "id": "product_title_size",
            "label": "Taille du titre",
            "default": "h6",
            "options": [
                { "group": "Titre Standard", "value": "h1", "label": "Très Grand" },
                { "group": "Titre Standard", "value": "h2", "label": "Grand" },
                { "group": "Titre Standard", "value": "h3", "label": "Moyen" },
                { "group": "Titre Standard", "value": "h4", "label": "Petit" },
                { "group": "Titre Standard", "value": "h5", "label": "Très Petit" },
                { "group": "Titre Standard", "value": "h6", "label": "Super Petit" }
            ]
        },
        {
            "type": "select",
            "id": "product_title_truncate",
            "label": "Tronquer le titre",
            "default": "",
            "info": "Utile si les titres de vos produits sont longs",
            "options": [
                { "value": "", "label": "Non (default)" },
                { "value": "text-truncate", "label": "Une ligne" }
            ]
        },
        {
            "type": "checkbox",
            "id": "product_show_vendor",
            "label": "Afficher le distributeur",
            "default": true
        },
        {
            "type": "checkbox",
            "id": "product_show_atc_form",
            "label": "Afficher le bouton 'Ajouter au panier'",
            "default": true
        },
        {
            "type": "checkbox",
            "id": "product_form_show_inventory",
            "label": "Afficher l'inventaire dans le bouton 'Ajouter au panier'",
            "default": true
        },
        {
            "type": "checkbox",
            "id": "product_show_wishlist_btn",
            "label": "Afficher le bouton 'liste de souhaits'",
            "default": true
        },
        {
            "type": "header",
            "content": "Points d'arrêt",
            "info": "Ajuster les éléments par diapositive en fonction de la résolution de l'écran"
        },
        {
            "type": "range",
            "id": "breakpoint_xs",
            "label": "Éléments par slide / xs",
            "info": "Largeur d'écran : moins de 576px",
            "min": 1,
            "max": 3,
            "step": 1,
            "default": 2
        },
        {
            "type": "range",
            "id": "breakpoint_sm",
            "label": "Éléments par slide / sm",
            "info": "Largeur d'écran : ≥576px",
            "min": 1,
            "max": 3,
            "step": 1,
            "default": 2
        },
        {
            "type": "range",
            "id": "breakpoint_md",
            "label": "Éléments par slide / md",
            "info": "Largeur d'écran : ≥768px",
            "min": 1,
            "max": 4,
            "step": 1,
            "default": 3
        },
        {
            "type": "range",
            "id": "breakpoint_lg",
            "label": "Éléments par slide / lg",
            "info": "Largeur d'écran : ≥992px",
            "min": 1,
            "max": 6,
            "step": 1,
            "default": 3
        },
        {
            "type": "range",
            "id": "breakpoint_xl",
            "label": "Éléments par slide / xl",
            "info": "Largeur d'écran : ≥1200px",
            "min": 1,
            "max": 6,
            "step": 1,
            "default": 4
        },
        {
            "type": "range",
            "id": "breakpoint_xxl",
            "label": "Éléments par slide / xxl",
            "info": "Largeur d'écran : ≥1400px",
            "min": 1,
            "max": 8,
            "step": 1,
            "default": 4
        }
    ],
    "blocks": [
        {
            "type": "mobile",
            "name": "Mobile",
            "settings": [
                {
                    "type": "header",
                    "content": "General"
                },
                {
                    "type": "range",
                    "id": "inject",
                    "label": "Injecter comme élément",
                    "info": "Sélectionnez la position dans la liste des produits où la bannière s'affichera.",
                    "min": 1,
                    "max": 40,
                    "default": 5,
                    "step": 1
                },
                {
                    "type": "select",
                    "id": "bg_color",
                    "label": "Couleur de l'arrière plan",
                    "default": "bg-dark text-white",
                    "options": [
                        { "group": "Principal", "value": "bg-primary text-white", "label": "Primaire" },
                        { "group": "Principal", "value": "bg-secondary text-white", "label": "Secondaire" },
                        { "group": "Principal", "value": "bg-tertiary text-white", "label": "Tertiaire" },
                        { "group": "Intermédiaire", "value": "bg-white text-body", "label": "Blanc" },
                        { "group": "Intermédiaire", "value": "bg-light text-body", "label": "Claire" },
                        { "group": "Intermédiaire", "value": "bg-dark text-white", "label": "Sombre" },
                        { "group": "Par défaut", "value": "bg-body text-body", "label": "Corps (body)" },
                        { "group": "Alerte", "value": "bg-success text-white", "label": "Succès" },
                        { "group": "Alerte", "value": "bg-warning text-white", "label": "Avertissement" },
                        { "group": "Alerte", "value": "bg-danger text-white", "label": "Danger" },
                        { "group": "Alerte", "value": "bg-info text-white", "label": "Info" }
                    ]
                },
                {
                    "type": "url",
                    "id": "url",
                    "label": "URL"
                },
                {
                    "type": "header",
                    "content": "Image"
                },
                {
                    "type": "image_picker",
                    "id": "img",
                    "label": "Image"
                },
                {
                    "type": "range",
                    "id": "img_opacity",
                    "label": "Opacité image",
                    "min": 0,
                    "max": 1,
                    "step": 0.1,
                    "default": 0.7
                },
                {
                    "type": "header",
                    "content": "Vidéo"
                },
                {
                    "type": "video",
                    "id": "video",
                    "label": "Vidéo"
                },
                {
                    "type": "range",
                    "id": "vid_opacity",
                    "label": "Opacité vidéo",
                    "min": 0,
                    "max": 1,
                    "step": 0.1,
                    "default": 0.7
                },
                {
                    "type": "checkbox",
                    "id": "autoplay",
                    "label": "Autoplay",
                    "default": true
                },
                {
                    "type": "checkbox",
                    "id": "loop",
                    "label": "Loop",
                    "info": "(Vidéo en boucle)",
                    "default": true
                },
                {
                    "type": "checkbox",
                    "id": "muted",
                    "label": "Mute",
                    "info": "(Vidéo muette)",
                    "default": true
                },
                {
                    "type": "checkbox",
                    "id": "controls",
                    "label": "Contrôles",
                    "default": true
                },
                {
                    "type": "header",
                    "content": "Texte"
                },
                {
                    "type": "text",
                    "id": "title",
                    "label": "Titre",
                    "default": "Nouvelle Collection"
                },
                {
                    "type": "select",
                    "id": "title_size",
                    "label": "Taille du titre",
                    "default": "h4",
                    "options": [
                        { "group": "Titre Standard", "value": "h1", "label": "Très Grand" },
                        { "group": "Titre Standard", "value": "h2", "label": "Grand" },
                        { "group": "Titre Standard", "value": "h3", "label": "Moyen" },
                        { "group": "Titre Standard", "value": "h4", "label": "Petit" },
                        { "group": "Titre Standard", "value": "h5", "label": "Très Petit" },
                        { "group": "Titre Standard", "value": "h6", "label": "Super Petit" }
                    ]
                },
                {
                    "type": "richtext",
                    "id": "description",
                    "label": "Description (facultatif)",
                    "default": "<p>Ajouter une description facultative à cette section</p>"
                },
                {
                    "type": "text",
                    "id": "btn_text",
                    "label": "Texte du bouton",
                    "default": "En savoir plus",
                    "info": "Laisser vide pour désactiver"
                }
            ]
        },
        {
            "type": "desktop",
            "name": "Bureau",
            "settings": [
                {
                    "type": "header",
                    "content": "General"
                },
                {
                    "type": "range",
                    "id": "inject",
                    "label": "Injecter comme élément",
                    "info": "Sélectionnez la position dans la liste des produits où la bannière s'affichera.",
                    "min": 1,
                    "max": 40,
                    "default": 5,
                    "step": 1
                },
                {
                    "type": "select",
                    "id": "bg_color",
                    "label": "Couleur de l'arrière plan",
                    "default": "bg-dark text-white",
                    "options": [
                        { "group": "Principal", "value": "bg-primary text-white", "label": "Primaire" },
                        { "group": "Principal", "value": "bg-secondary text-white", "label": "Secondaire" },
                        { "group": "Principal", "value": "bg-tertiary text-white", "label": "Tertiaire" },
                        { "group": "Intermédiaire", "value": "bg-white text-body", "label": "Blanc" },
                        { "group": "Intermédiaire", "value": "bg-light text-body", "label": "Claire" },
                        { "group": "Intermédiaire", "value": "bg-dark text-white", "label": "Sombre" },
                        { "group": "Par défaut", "value": "bg-body text-body", "label": "Corps (body)" },
                        { "group": "Alerte", "value": "bg-success text-white", "label": "Succès" },
                        { "group": "Alerte", "value": "bg-warning text-white", "label": "Avertissement" },
                        { "group": "Alerte", "value": "bg-danger text-white", "label": "Danger" },
                        { "group": "Alerte", "value": "bg-info text-white", "label": "Info" }
                    ]
                },
                {
                    "type": "url",
                    "id": "url",
                    "label": "URL"
                },
                {
                    "type": "header",
                    "content": "Image"
                },
                {
                    "type": "image_picker",
                    "id": "img",
                    "label": "Image"
                },
                {
                    "type": "range",
                    "id": "img_opacity",
                    "label": "Opacité image",
                    "min": 0,
                    "max": 1,
                    "step": 0.1,
                    "default": 0.7
                },
                {
                    "type": "header",
                    "content": "Vidéo"
                },
                {
                    "type": "video",
                    "id": "video",
                    "label": "Vidéo"
                },
                {
                    "type": "range",
                    "id": "vid_opacity",
                    "label": "Opacité vidéo",
                    "min": 0,
                    "max": 1,
                    "step": 0.1,
                    "default": 0.7
                },
                {
                    "type": "checkbox",
                    "id": "autoplay",
                    "label": "Autoplay",
                    "default": true
                },
                {
                    "type": "checkbox",
                    "id": "loop",
                    "label": "Loop",
                    "info": "(Vidéo en boucle)",
                    "default": true
                },
                {
                    "type": "checkbox",
                    "id": "muted",
                    "label": "Mute",
                    "info": "(Vidéo muette)",
                    "default": true
                },
                {
                    "type": "checkbox",
                    "id": "controls",
                    "label": "Contrôles",
                    "default": true
                },
                {
                    "type": "header",
                    "content": "Texte"
                },
                {
                    "type": "text",
                    "id": "title",
                    "label": "Titre",
                    "default": "Nouvelle Collection"
                },
                {
                    "type": "select",
                    "id": "title_size",
                    "label": "Taille du titre",
                    "default": "h4",
                    "options": [
                        { "group": "Titre Standard", "value": "h1", "label": "Très Grand" },
                        { "group": "Titre Standard", "value": "h2", "label": "Grand" },
                        { "group": "Titre Standard", "value": "h3", "label": "Moyen" },
                        { "group": "Titre Standard", "value": "h4", "label": "Petit" },
                        { "group": "Titre Standard", "value": "h5", "label": "Très Petit" },
                        { "group": "Titre Standard", "value": "h6", "label": "Super Petit" }
                    ]
                },
                {
                    "type": "richtext",
                    "id": "description",
                    "label": "Description (facultatif)",
                    "default": "<p>Ajouter une description facultative à cette section</p>"
                },
                {
                    "type": "text",
                    "id": "btn_text",
                    "label": "Texte du bouton",
                    "default": "En savoir plus",
                    "info": "Laisser vide pour désactiver"
                }
            ]
        }
    ],
    "templates": ["collection"],
    "presets": [
        {
            "name": "Collection (modèle)",
            "category": "Template"
        }
    ]
}
{% endschema %}